/* EasyShop modern layout overrides
   Focus: product list grid + product card containment
   Safe: No JS/logic changes; only CSS, overriding main.css safely */

/* Global reset and containment */
* , *::before, *::after { box-sizing: border-box; }
html, body { width: 100%; max-width: 100%; overflow-x: hidden !important; }
img { display: block; max-width: 100%; height: auto; }

/* Product list container: responsive CSS Grid using fr units */
/* Force product list to be a wrapping grid */
#content {
  display: grid !important;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)) !important;
  gap: 1.5rem !important;
  padding: 2rem !important;
  width: 100% !important;
  /* Avoid forcing content to fill viewport; let it size to items */
  min-height: auto !important;
  background: var(--bg-lighter, #f3f4f6);
  overflow-x: hidden !important; /* remove horizontal scrolling */
}

/* Ensure direct children (cards) never exceed their column */
#content > * { max-width: 100%; min-width: 0 !important; box-sizing: border-box; }

/* Product card containment (works for both legacy and new class names) */
.product, .product-card {
  position: relative; /* requirement: parent is relative */
  display: flex;
  flex-direction: column;
  background: var(--white, #fff);
  border: 1px solid var(--border-color, #e5e7eb);
  border-radius: var(--radius-lg, 0.75rem);
  box-shadow: var(--shadow-sm, 0 1px 2px rgba(0,0,0,.05));
  overflow: hidden; /* keep everything inside */
  width: 100%;
}

/* Title area: keep within card */
.product h4, .product-card h4 {
  margin: 0;
  padding: 1rem 1rem .5rem;
  font-size: 1rem;
  line-height: 1.3;
}

/* Fixed image container height + cover */
.product .photo, .product-photo {
  position: relative;
  height: 220px; /* fixed height */
  background: var(--bg-light, #f9fafb);
  overflow: hidden;
  display: flex; align-items: center; justify-content: center;
}
.product .photo img, .product-photo img {
  width: 100%; height: 100%; object-fit: cover; /* requirement */
}

/* Description and price section stays inside column */
.product p, .product-details p {
  padding: 0 1rem; margin: .5rem 0; color: var(--text-light, #6b7280);
}
.product .price, .product-price {
  padding: .5rem 1rem 1rem; font-weight: 700; color: var(--primary-color, #2563eb);
}

/* Actions row: buttons inside card, no overlap, no absolute pos */
.add-button, .product-actions {
  display: flex; gap: .75rem; padding: 1rem; border-top: 1px solid var(--border-color, #e5e7eb);
  background: var(--bg-light, #f9fafb);
}
.product .btn, .product-card .btn {
  flex: 1 1 auto; min-width: 0; padding: .625rem .75rem; font-size: .9rem;
  display: inline-flex; align-items: center; justify-content: center; gap: .5rem;
}

/* Pagination should not break the grid width */
#content .pagination { grid-column: 1 / -1; width: 100%; display: flex; justify-content: center; }

/* Safety: prevent any accidental full-width banners inside grid */
#content img[style*="width: 100vw"], #content img[style*="100%vw"] { width: 100% !important; }
