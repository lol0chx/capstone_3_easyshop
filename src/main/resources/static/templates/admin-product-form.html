<div class="modal" onclick="hideAdminModal()">
  <div class="modal-dialog" role="document" onclick="event.stopPropagation()">
    <div class="modal-content">
      <div class="modal-header">
        <h3>{{#productId}}Edit Product #{{productId}}{{/productId}}{{#isNew}}Add New Product{{/isNew}}</h3>
        <button type="button" class="btn-close" onclick="hideAdminModal()">&times;</button>
      </div>
      <div class="modal-body">
        <div id="admin-form-errors"></div>
        <form id="productForm" onsubmit="submitProductForm(event)">
          <input type="hidden" id="productId" value="{{productId}}" />
          
          <div class="form-group">
            <label for="name">Product Name *</label>
            <input type="text" id="name" class="form-control" value="{{name}}" required placeholder="Enter product name" />
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="price">Price *</label>
              <input type="number" id="price" class="form-control" step="0.01" min="0" value="{{price}}" required placeholder="0.00" />
            </div>
            <div class="form-group">
              <label for="stock">Stock</label>
              <input type="number" id="stock" class="form-control" min="0" value="{{stock}}" placeholder="0" />
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="categoryId">Category *</label>
              <select id="categoryId" class="form-control" required>
                {{^categories}}
                <option value="">Loading categories...</option>
                {{/categories}}
                {{#categories}}
                <option value="{{categoryId}}" {{#isSelected}}selected{{/isSelected}}>{{name}}</option>
                {{/categories}}
              </select>
            </div>
            <div class="form-group">
              <label for="subCategory">Subcategory</label>
              <input type="text" id="subCategory" class="form-control" value="{{subCategory}}" placeholder="e.g., Red, Blue, Large" />
            </div>
          </div>
          
          <div class="form-group">
            <label for="imageUrl">Image URL</label>
            <input type="text" id="imageUrl" class="form-control" value="{{imageUrl}}" placeholder="product-image.jpg" />
          </div>
          
          <div class="form-group">
            <label for="description">Description</label>
            <textarea id="description" class="form-control" rows="3" placeholder="Enter product description">{{description}}</textarea>
          </div>
          
          <div class="form-group form-check">
            <input type="checkbox" id="isFeatured" class="form-check-input" {{#isFeatured}}checked{{/isFeatured}} />
            <label for="isFeatured" class="form-check-label">Featured Product</label>
          </div>
          
          <div class="form-actions">
            <button type="button" class="btn btn-secondary" onclick="hideAdminModal()">Cancel</button>
            <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save Product</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
