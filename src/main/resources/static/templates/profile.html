
<div class="filter-box"></div>
<div id="content" class="content-form">
  <div>
    <h1><i class="fas fa-user-circle" style="margin-right: 1rem; color: var(--primary-color);"></i>My Profile</h1>
    <p style="color: var(--text-light); font-size: var(--font-size-sm);">Update your personal information and address</p>
  </div>

  <!-- Summary Card -->
  <div class="profile-summary" style="display:flex; align-items:center; gap: var(--spacing-lg); background: var(--bg-light); padding: var(--spacing-lg); border-radius: var(--radius-lg); border: 1px solid var(--border-color);">
    <div style="width:64px; height:64px; border-radius:50%; background: var(--primary-light); color: white; display:flex; align-items:center; justify-content:center; font-weight:700; font-size: var(--font-size-lg); overflow:hidden;">
      <img id="avatarPreview" src="" alt="Avatar" style="width:100%; height:100%; object-fit: cover; display:none;" />
      <span id="avatarInitials">U</span>
    </div>
    <div>
      <div style="font-weight:600;">{{firstName}} {{lastName}}</div>
      <div style="color: var(--text-light); font-size: var(--font-size-sm);">{{email}}</div>
    </div>
  </div>

  <!-- Account Info -->
  <div style="display: grid; grid-template-columns: 1fr; gap: var(--spacing-lg);">
    <div class="form-floating mb-3">
      <input type="text" class="form-control" id="username" placeholder="Username" value='{{username}}' disabled>
      <label for="username"><i class="fas fa-id-badge" style="margin-right: 0.5rem;"></i>Username</label>
    </div>
  </div>

  <div style="display: grid; grid-template-columns: 1fr; gap: var(--spacing-lg);">
    <div class="form-floating mb-3">
      <input type="text" class="form-control" id="firstName" placeholder="First Name" value='{{firstName}}'>
      <label for="firstName"><i class="fas fa-user" style="margin-right: 0.5rem;"></i>First Name</label>
    </div>
    <div class="form-floating mb-3">
      <input type="text" class="form-control" id="lastName" placeholder="Last Name" value='{{lastName}}'>
      <label for="lastName"><i class="fas fa-user" style="margin-right: 0.5rem;"></i>Last Name</label>
    </div>
    <div class="form-floating mb-3">
      <input type="text" class="form-control" id="company" placeholder="Company" value='{{company}}'>
      <label for="company"><i class="fas fa-building" style="margin-right: 0.5rem;"></i>Company (optional)</label>
    </div>
    <div class="form-floating mb-3">
      <input type="date" class="form-control" id="dob" placeholder="Date of Birth" value='{{dob}}'>
      <label for="dob"><i class="fas fa-calendar" style="margin-right: 0.5rem;"></i>Date of Birth</label>
    </div>
    <div class="form-floating mb-3">
      <select class="form-select" id="gender">
        <option value="" {{#genderUnknown}}selected{{/genderUnknown}}>Prefer not to say</option>
        <option value="male" {{#genderMale}}selected{{/genderMale}}>Male</option>
        <option value="female" {{#genderFemale}}selected{{/genderFemale}}>Female</option>
        <option value="other" {{#genderOther}}selected{{/genderOther}}>Other</option>
      </select>
      <label for="gender"><i class="fas fa-venus-mars" style="margin-right: 0.5rem;"></i>Gender</label>
    </div>
  </div>

  <div style="display: grid; grid-template-columns: 1fr; gap: var(--spacing-lg);">
    <div class="form-floating mb-3">
      <input type="tel" class="form-control" id="phone" placeholder="Phone" value='{{phone}}'>
      <label for="phone"><i class="fas fa-phone" style="margin-right: 0.5rem;"></i>Phone</label>
    </div>
    <div class="form-floating mb-3">
      <input type="tel" class="form-control" id="secondaryPhone" placeholder="Secondary Phone" value='{{secondaryPhone}}'>
      <label for="secondaryPhone"><i class="fas fa-phone" style="margin-right: 0.5rem;"></i>Secondary Phone (optional)</label>
    </div>
    <div class="form-floating mb-3">
      <input type="email" class="form-control" id="email" placeholder="Email" value='{{email}}'>
      <label for="email"><i class="fas fa-envelope" style="margin-right: 0.5rem;"></i>Email</label>
    </div>
    <div class="form-floating mb-3">
      <select class="form-select" id="preferredContact">
        <option value="email" {{#preferredContactEmail}}selected{{/preferredContactEmail}}>Email</option>
        <option value="phone" {{#preferredContactPhone}}selected{{/preferredContactPhone}}>Phone</option>
        <option value="sms" {{#preferredContactSms}}selected{{/preferredContactSms}}>SMS</option>
      </select>
      <label for="preferredContact"><i class="fas fa-address-card" style="margin-right: 0.5rem;"></i>Preferred Contact Method</label>
    </div>
    <div class="form-check mb-3" style="padding-left: 1.25rem;">
      <input class="form-check-input" type="checkbox" id="newsletter" {{#newsletter}}checked{{/newsletter}}>
      <label class="form-check-label" for="newsletter"><i class="fas fa-newspaper" style="margin-right: 0.5rem;"></i>Subscribe to newsletter</label>
    </div>
  </div>

  <div class="form-floating mb-3">
    <input type="text" class="form-control" id="address" placeholder="Street Address" value='{{address}}'>
    <label for="address"><i class="fas fa-map-marker-alt" style="margin-right: 0.5rem;"></i>Street Address</label>
  </div>

  <div class="form-floating mb-3">
    <input type="text" class="form-control" id="address2" placeholder="Apartment, suite, etc." value='{{address2}}'>
    <label for="address2"><i class="fas fa-door-open" style="margin-right: 0.5rem;"></i>Apartment / Suite (optional)</label>
  </div>

  <div style="display: grid; grid-template-columns: 1fr; gap: var(--spacing-lg);">
    <div class="form-floating mb-3">
      <input type="text" class="form-control" id="city" placeholder="City" value='{{city}}'>
      <label for="city"><i class="fas fa-city" style="margin-right: 0.5rem;"></i>City</label>
    </div>
    <div class="form-floating mb-3">
      <input type="text" class="form-control" id="state" placeholder="State" value='{{state}}'>
      <label for="state"><i class="fas fa-flag" style="margin-right: 0.5rem;"></i>State</label>
    </div>
    <div class="form-floating mb-3">
      <input type="text" class="form-control" id="zip" placeholder="ZIP Code" value='{{zip}}'>
      <label for="zip"><i class="fas fa-location-dot" style="margin-right: 0.5rem;"></i>ZIP</label>
    </div>
    <div class="form-floating mb-3">
      <input type="text" class="form-control" id="country" placeholder="Country" value='{{country}}'>
      <label for="country"><i class="fas fa-globe" style="margin-right: 0.5rem;"></i>Country</label>
    </div>
    <div class="mb-3">
      <label for="bio" class="form-label"><i class="fas fa-comment" style="margin-right: 0.5rem;"></i>Bio</label>
      <textarea id="bio" class="form-control" rows="3" placeholder="Tell us about yourself...">{{bio}}</textarea>
    </div>
    <div class="mb-3">
      <label for="avatar" class="form-label"><i class="fas fa-image" style="margin-right: 0.5rem;"></i>Profile Photo</label>
      <input type="file" id="avatar" class="form-control" accept="image/*">
    </div>
  </div>

  <div style="display: flex; gap: var(--spacing-lg); margin-top: var(--spacing-xl);">
    <button class="btn btn-primary btn-sm" onclick="saveProfile()">
      <i class="fas fa-save" style="margin-right: 0.5rem;"></i>Save Changes
    </button>
    <button class="btn btn-secondary btn-sm" onclick="loadHome()">
      <i class="fas fa-arrow-left" style="margin-right: 0.5rem;"></i>Back to Store
    </button>
  </div>
</div>
